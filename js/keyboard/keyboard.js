function getKeyBoard(b){$nums="1 2 3 4 5 6 7 8 9 0";$chars="a b c d e f g h i j k l m n o p q r s t u v w x y z";$randChars=$chars;$randNums=$nums;$chars1=$randChars.substr(0,25);$chars2=$randChars.substr(25,26);var a="";var e=b.attr("id");a='<div class="keyboard '+e+'">';a+="<ul>";a+='<li class="numkey">';$randNums=$randNums.split("");$.each($randNums,function(f,g){if(g!=" "){a+='<div class="key">'+g+"</div>"}});a+="</li>";a+='<div class="clear"></div>';a+="<li>";$chars1=$chars1.split("");$.each($chars1,function(f,g){if(g!=" "){a+='<div class="key charkey">'+g+"</div>"}});a+="</li>";a+='<div class="clear"></div>';a+="<li>";$chars2=$chars2.split("");$.each($chars2,function(f,g){if(g!=" "){a+='<div class="key charkey">'+g+"</div>"}});a+="</li>";a+='<div class="clear"></div>';a+='<li class="funtion">';a+='<div class="funkey shift">\u5927\u5c0f\u5199</div><div class="funkey ok">\u786e\u5b9a</div><div class="funkey cancel">\u53d6\u6d88</div><div class="funkey back">\u540e\u9000</div><div class="funkey usekey" style="color:red;font-weight:bold;">\u952e\u76d8\u5f55\u5165</div>';a+="</li>";a+='<div class="clear"></div>';a+="</ul>";a+="</div>";b.parent().append($(a));var d=b.offset().left-130;var c=b.offset().top-46;$("."+e).css("top",c+"px");$("."+e).css("left",d+"px");setCss(b);b.click(function(){$(".keyboard").not("."+e).hide();if($("."+e).css("display")=="none"){$("."+e).show()}else{$("."+e).hide()}});$("body").bind("click",function(f){if($(f.target).attr("id")==e||$(f.target).attr("class").indexOf(e)>0||$(f.target).parent().attr("class").indexOf(e)>0||$(f.target).parent().parent().attr("class").indexOf(e)>0||$(f.target).parent().parent().parent().attr("class").indexOf(e)>0){return false}else{$("."+e).hide()}});$("."+e).find(".key").click(function(){b.val(b.val()+$(this).html());$(".key").removeClass("on");$(".funkey").removeClass("on");$(this).addClass("on")});$("."+e).find(".ok").click(function(){$("."+e).hide();$(".key").removeClass("on");$(".funkey").removeClass("on")});$("."+e).find(".cancel").click(function(){$("."+e).hide();$(".key").removeClass("on");$(".funkey").removeClass("on");b.val("")});$("."+e).find(".shift").click(function(){$(".key").removeClass("on");$(".funkey").removeClass("on");$.each($(".charkey"),function(){if($("."+e).css("width")=="460px"){$(this).html($(this).html().toUpperCase())}else{$(this).html($(this).html().toLowerCase())}});if($("."+e).css("width")=="460px"){$("."+e).css("width","480px")}else{$("."+e).css("width","460px")}});$("."+e).find(".back").click(function(){$(".key").removeClass("on");$(".funkey").removeClass("on");b.val(b.val().substr(0,b.val().length-1))});$("."+e).find(".usekey").click(function(){if($(this).html()=="\u952e\u76d8\u5f55\u5165"){usekey(b);$(this).html("\u9f20\u6807\u5f55\u5165")}else{setCss(b);$(this).html("\u952e\u76d8\u5f55\u5165")}$(".key").removeClass("on");$(".funkey").removeClass("on")})}function getNumKeyBoard(b){$nums="1 2 3 4 5 6 7 8 9 0";$randNums=$nums;var a="";var e=b.attr("id");a='<div class="numkeyboard '+e+'">';a+="<ul>";a+='<li class="numkey">';$randNums=$randNums.split("");$.each($randNums,function(f,g){if(g!=" "){a+='<div class="key">'+g+"</div>"}});a+="</li>";a+='<div class="clear"></div>';a+='<div class="clear"></div>';a+='<li class="funtion">';a+='<div class="funkey ok">\u786e\u5b9a</div><div class="funkey cancel">\u53d6\u6d88</div><div class="funkey back">\u540e\u9000</div><div class="funkey usekey" style="color:red;font-weight:bold;">\u952e\u76d8\u5f55\u5165</div>';a+="</li>";a+='<div class="clear"></div>';a+="</ul>";a+="</div>";b.parent().append($(a));var d=b.offset().left-70;var c=b.offset().top-46;$("."+e).css("top",c+"px");$("."+e).css("left",d+"px");setCss(b);b.click(function(){$(".numkeyboard").not("."+e).hide();if($("."+e).css("display")=="none"){$("."+e).show()}else{$("."+e).hide()}});$("body").bind("click",function(f){if($(f.target).attr("id")==e||$(f.target).attr("class").indexOf(e)>0||$(f.target).parent().attr("class").indexOf(e)>0||$(f.target).parent().parent().attr("class").indexOf(e)>0||$(f.target).parent().parent().parent().attr("class").indexOf(e)>0){return false}else{$("."+e).hide()}});$("."+e).find(".key").click(function(){b.val(b.val()+$(this).html());$(".key").removeClass("on");$(".funkey").removeClass("on");$(this).addClass("on")});$("."+e).find(".ok").click(function(){$("."+e).hide();$(".key").removeClass("on");$(".funkey").removeClass("on")});$("."+e).find(".cancel").click(function(){$("."+e).hide();$(".key").removeClass("on");$(".funkey").removeClass("on");b.val("")});$("."+e).find(".back").click(function(){$(".key").removeClass("on");$(".funkey").removeClass("on");b.val(b.val().substr(0,b.val().length-1))});$("."+e).find(".usekey").click(function(){if($(this).html()=="\u952e\u76d8\u5f55\u5165"){usekey(b);$(this).html("\u9f20\u6807\u5f55\u5165")}else{setCss(b);$(this).html("\u952e\u76d8\u5f55\u5165")}$(".key").removeClass("on");$(".funkey").removeClass("on")})}function setCss(a){a.css("background","#eee");a.css("border","1px solid #ddd");a.attr("readonly","true")}function usekey(a){a.css("background","#FFF");a.css("border","1px solid #ddd");a.attr("readonly","")}function getTheArrayItems(a){var g=new Array();var c=a.length;for(var b in a){g.push(a[b])}var e=new Array();for(var d=0;d<c;d++){if(g.length>0){var f=Math.floor(Math.random()*g.length);e[d]=g[f];g.splice(f,1)}else{break}}return e};
